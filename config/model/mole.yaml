defaults:
  - base_module

name: "mole"

model: 
  _target_: src.models.mole.Model
  look_back_window: ${look_back_window}
  prediction_window: ${prediction_window}
  look_back_channel_dim: ${dataset.datamodule.look_back_channel_dim}
  target_channel_dim: ${dataset.datamodule.target_channel_dim}

  # n_regimes = 1 is equivalent to batched linear regression
  n_regimes: 4 # number of regimes
  dropout: 0.0
  input_dropout: 0.0

  use_last: False
  revin: ${use_norm_baseline}

pl_model: 
  _target_: src.models.mole.MOLE
  loss_fn: ${loss_fn}
  learning_rate: 0.001
  weight_decay: 0.0
  optimizer_name: "adamw" # can be 'adam', 'adamw' or 'lbfgs'

trainer:
  max_epochs: 10000
  use_early_stopping: True
  patience: 2 

data:
  batch_size: 1024
